machine:
  timezone:
    GMT
  xcode:
    version: 8.0
  environment:
    XCODE_SCHEME: nupic
    XCODE_WORKSPACE: nupic
    ARCHFLAGS: "-arch x86_64"
  pre:
    - pip install --user --ignore-installed --upgrade --verbose pip
    - pip install --user --ignore-installed --upgrade --verbose virtualenv
    - ln -s ~/Library/Python/2.7/bin/virtualenv /usr/local/bin/virtualenv

dependencies:
  pre:
    - pip install wheel
    - pip install numpy==1.11.2 pycapnp==0.5.8
  override:
    - mkdir -p build/scripts
    - cd build/scripts && cmake ../.. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=../release -DPY_EXTENSIONS_DIR=../../bindings/py/nupic/bindings

#database:
#compile:
#test:
